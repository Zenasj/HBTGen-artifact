import torch

A = torch.tensor([[1.0124e+08, 9.9517e+07, 5.3546e+07, 7.5420e+07, 1.0620e+08, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [9.9517e+07, 1.0104e+08, 5.5640e+07, 7.5404e+07, 1.0777e+08, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [5.3546e+07, 5.5640e+07, 4.2558e+07, 4.2080e+07, 6.3944e+07, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [7.5420e+07, 7.5404e+07, 4.2080e+07, 5.8183e+07, 8.2586e+07, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [1.0620e+08, 1.0777e+08, 6.3944e+07, 8.2586e+07, 1.1964e+08, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.0124e+08,
         9.9517e+07, 5.3546e+07, 7.5420e+07, 1.0620e+08],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 9.9517e+07,
         1.0104e+08, 5.5640e+07, 7.5404e+07, 1.0777e+08],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 5.3546e+07,
         5.5640e+07, 4.2558e+07, 4.2080e+07, 6.3944e+07],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 7.5420e+07,
         7.5404e+07, 4.2080e+07, 5.8183e+07, 8.2586e+07],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.0620e+08,
         1.0777e+08, 6.3944e+07, 8.2586e+07, 1.1964e+08]],requires_grad=True)
eigval, eigvec = torch.symeig(A,eigenvectors=True)
maxid = torch.argmax(eigval)
bvector = eigvec[:,maxid]
loss = torch.sum(bvector)
loss.backward()
print (loss)
print (A.grad)

import torch
A = torch.tensor([[1.0124e+08, 9.9517e+07, 5.3546e+07, 7.5420e+07, 1.0620e+08, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [9.9517e+07, 1.0104e+08, 5.5640e+07, 7.5404e+07, 1.0777e+08, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [5.3546e+07, 5.5640e+07, 4.2558e+07, 4.2080e+07, 6.3944e+07, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [7.5420e+07, 7.5404e+07, 4.2080e+07, 5.8183e+07, 8.2586e+07, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [1.0620e+08, 1.0777e+08, 6.3944e+07, 8.2586e+07, 1.1964e+08, -0.0000e+00,
         -0.0000e+00, -0.0000e+00, -0.0000e+00, -0.0000e+00],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.0124e+08,
         9.9517e+07, 5.3546e+07, 7.5420e+07, 1.0620e+08],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 9.9517e+07,
         1.0104e+08, 5.5640e+07, 7.5404e+07, 1.0777e+08],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 5.3546e+07,
         5.5640e+07, 4.2558e+07, 4.2080e+07, 6.3944e+07],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 7.5420e+07,
         7.5404e+07, 4.2080e+07, 5.8183e+07, 8.2586e+07],
        [0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.0620e+08,
         1.0777e+08, 6.3944e+07, 8.2586e+07, 1.1964e+08]],requires_grad=True)
A1 = A.detach()
eigvalng, eigvecng = torch.symeig(A1,eigenvectors=True)
eps_matrix = torch.diag(torch.randn(10)*1e8)
eps_matrix = eigvecng.mm(eps_matrix)
eps_matrix = eps_matrix.mm(torch.transpose(eigvecng,0,1))
eigval, eigvec = torch.symeig(A+eps_matrix,eigenvectors=True)
maxid = torch.argmax(eigval)
bvector = eigvec[:,maxid]
loss = torch.sum(bvector)
loss.backward()
print (loss)
print (A.grad)

tensor([2.2283e+05, 2.2283e+05, 1.4133e+06, 1.4133e+06, 2.3873e+06, 2.3873e+06,
        1.1886e+07, 1.1886e+07, 4.0675e+08, 4.0675e+08])